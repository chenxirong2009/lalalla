<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title>箱式产品配置选择系统</title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2113.65">
  <style type="text/css">
    span.s1 {font-kerning: none}
    span.s2 {font: 24.0px 'Lucida Grande'; font-kerning: none}
  </style>
</head>
<body>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b>&lt;!DOCTYPE html&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b>&lt;html lang="zh-CN"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b>&lt;head&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">    </span>&lt;meta charset="UTF-8"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">    </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">    </span>&lt;title&gt;智能设备选配系统 (可编辑版)&lt;/title&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b><span class="Apple-converted-space">    </span></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">    </span>&lt;!-- PWA 设置 --&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">    </span>&lt;meta name="apple-mobile-web-app-capable" content="yes"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">    </span>&lt;meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">    </span>&lt;meta name="format-detection" content="telephone=no"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">    </span>&lt;meta name="theme-color" content="#ffffff"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b><span class="Apple-converted-space">    </span></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">    </span>&lt;!-- 依赖库 --&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">    </span>&lt;script src="https://cdn.tailwindcss.com"&gt;&lt;/script&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">    </span>&lt;script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"&gt;&lt;/script&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">    </span>&lt;script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"&gt;&lt;/script&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">    </span>&lt;script src="https://unpkg.com/@babel/standalone/babel.min.js"&gt;&lt;/script&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">    </span>&lt;script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"&gt;&lt;/script&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">    </span>&lt;style&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; -webkit-tap-highlight-color: transparent; overscroll-behavior-y: none; }</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>.no-scrollbar::-webkit-scrollbar { display: none; }</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>.no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>.safe-bottom { padding-bottom: env(safe-area-inset-bottom); }</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>@keyframes pulse-glow { 0%, 100% { box-shadow: 0 0 10px rgba(147, 51, 234, 0.2); } 50% { box-shadow: 0 0 20px rgba(147, 51, 234, 0.5); } }</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>.ai-btn-glow { animation: pulse-glow 2s infinite; }</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>.markdown-body h1, .markdown-body h2 { font-weight: bold; margin-top: 1em; margin-bottom: 0.5em; }</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>.markdown-body ul { list-style-type: disc; padding-left: 1.5em; }</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b><span class="Apple-converted-space">        </span></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>/* 模态框动画 */</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>.modal-enter { animation: slideUp 0.3s ease-out forwards; }</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>@keyframes slideUp { from { transform: translateY(100%); opacity: 0; } to { transform: translateY(0); opacity: 1; } }</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">    </span>&lt;/style&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b>&lt;/head&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b>&lt;body class="bg-slate-50 text-slate-800 h-screen w-screen overflow-hidden"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">    </span>&lt;div id="root" class="h-full w-full"&gt;&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">    </span>&lt;script type="text/babel"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>const { useState, useEffect, useRef } = React;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>// --- Icons ---</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>const IconBase = ({ children, size = 20, className = "" }) =&gt; ( &lt;svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}&gt;{children}&lt;/svg&gt; );</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>const Trash2 = (props) =&gt; &lt;IconBase {...props}&gt;&lt;path d="M3 6h18"/&gt;&lt;path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/&gt;&lt;path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/&gt;&lt;line x1="10" x2="10" y1="11" y2="17"/&gt;&lt;line x1="14" x2="14" y1="11" y2="17"/&gt;&lt;/IconBase&gt;;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>const Settings = (props) =&gt; &lt;IconBase {...props}&gt;&lt;circle cx="12" cy="12" r="3"/&gt;&lt;path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/&gt;&lt;/IconBase&gt;;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>const Plus = (props) =&gt; &lt;IconBase {...props}&gt;&lt;line x1="12" y1="5" x2="12" y2="19"/&gt;&lt;line x1="5" y1="12" x2="19" y2="12"/&gt;&lt;/IconBase&gt;;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>const ShoppingCart = (props) =&gt; &lt;IconBase {...props}&gt;&lt;circle cx="9" cy="21" r="1"/&gt;&lt;circle cx="20" cy="21" r="1"/&gt;&lt;path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/&gt;&lt;/IconBase&gt;;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>const Check = (props) =&gt; &lt;IconBase {...props}&gt;&lt;polyline points="20 6 9 17 4 12"/&gt;&lt;/IconBase&gt;;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>const X = (props) =&gt; &lt;IconBase {...props}&gt;&lt;line x1="18" y1="6" x2="6" y2="18"/&gt;&lt;line x1="6" y1="6" x2="18" y2="18"/&gt;&lt;/IconBase&gt;;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>const ChevronRight = (props) =&gt; &lt;IconBase {...props}&gt;&lt;polyline points="9 18 15 12 9 6"/&gt;&lt;/IconBase&gt;;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>const Save = (props) =&gt; &lt;IconBase {...props}&gt;&lt;path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/&gt;&lt;polyline points="17 21 17 13 7 13 7 21"/&gt;&lt;polyline points="7 3 7 8 15 8"/&gt;&lt;/IconBase&gt;;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>const Info = (props) =&gt; &lt;IconBase {...props}&gt;&lt;circle cx="12" cy="12" r="10"/&gt;&lt;line x1="12" y1="16" x2="12" y2="12"/&gt;&lt;line x1="12" y1="8" x2="12.01" y2="8"/&gt;&lt;/IconBase&gt;;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>const Menu = (props) =&gt; &lt;IconBase {...props}&gt;&lt;line x1="3" y1="12" x2="21" y2="12"/&gt;&lt;line x1="3" y1="6" x2="21" y2="6"/&gt;&lt;line x1="3" y1="18" x2="21" y2="18"/&gt;&lt;/IconBase&gt;;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>const Zap = (props) =&gt; &lt;IconBase {...props}&gt;&lt;polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/&gt;&lt;/IconBase&gt;;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>const Scale = (props) =&gt; &lt;IconBase {...props}&gt;&lt;path d="m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z"/&gt;&lt;path d="m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z"/&gt;&lt;path d="M7 21h10"/&gt;&lt;path d="M12 3v18"/&gt;&lt;path d="M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2"/&gt;&lt;/IconBase&gt;;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>const Camera = (props) =&gt; &lt;IconBase {...props}&gt;&lt;path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"/&gt;&lt;circle cx="12" cy="13" r="3"/&gt;&lt;/IconBase&gt;;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>const Sun = (props) =&gt; &lt;IconBase {...props}&gt;&lt;circle cx="12" cy="12" r="5"/&gt;&lt;line x1="12" y1="1" x2="12" y2="3"/&gt;&lt;line x1="12" y1="21" x2="12" y2="23"/&gt;&lt;line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/&gt;&lt;line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/&gt;&lt;line x1="1" y1="12" x2="3" y2="12"/&gt;&lt;line x1="21" y1="12" x2="23" y2="12"/&gt;&lt;line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/&gt;&lt;line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/&gt;&lt;/IconBase&gt;;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>const Volume2 = (props) =&gt; &lt;IconBase {...props}&gt;&lt;polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/&gt;&lt;path d="M19.07 4.93a10 10 0 0 1 0 14.14"/&gt;&lt;path d="M15.54 8.46a5 5 0 0 1 0 7.07"/&gt;&lt;/IconBase&gt;;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>const Sparkles = (props) =&gt; &lt;IconBase {...props}&gt;&lt;path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/&gt;&lt;path d="M5 3v4"/&gt;&lt;path d="M9 3v4"/&gt;&lt;path d="M3 5h4"/&gt;&lt;path d="M3 9h4"/&gt;&lt;/IconBase&gt;;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>const Robot = (props) =&gt; &lt;IconBase {...props}&gt;&lt;path d="M12 8V4H8"/&gt;&lt;rect width="16" height="12" x="4" y="8" rx="2"/&gt;&lt;path d="M2 14h2"/&gt;&lt;path d="M20 14h2"/&gt;&lt;path d="M15 13v2"/&gt;&lt;path d="M9 13v2"/&gt;&lt;/IconBase&gt;;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>const Edit = (props) =&gt; &lt;IconBase {...props}&gt;&lt;path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/&gt;&lt;path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/&gt;&lt;/IconBase&gt;;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>// --- Data ---</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>const DEFAULT_PRODUCTS = [</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>{ id: 1, category: "箱式产品", name: "可回收物回收箱（金色）", spec: "1160*1250*2150", defaultMaterial: "304" },</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>{ id: 3, category: "箱式产品", name: "可回收物收集箱（蓝色）", spec: "1160*1250*2150", defaultMaterial: "304" },</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>{ id: 5, category: "箱式产品", name: "低值可回收物收集箱", spec: "1160*1250*2150", defaultMaterial: "镀锌板" },</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>{ id: 7, category: "箱式产品", name: "低值/混合双投口收集箱", spec: "2320*1250*2150", defaultMaterial: "镀锌板" },</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>{ id: 8, category: "箱式产品", name: "厨余垃圾收集箱", spec: "1160*1250*2150", defaultMaterial: "304" },</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>{ id: 16, category: "箱式产品", name: "其他垃圾收集箱 (240L桶)", spec: "850*1250*2150", defaultMaterial: "镀锌板" },</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>{ id: 17, category: "箱式产品", name: "箱式五分类收集箱", spec: "综合尺寸", defaultMaterial: "镀锌板" },</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>{ id: 19, category: "箱式产品", name: "有害垃圾回收边柜", spec: "250*400*1000", defaultMaterial: "镀锌板" },</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>{ id: 21, category: "箱式产品", name: "手提大件暂存台", spec: "定制尺寸", defaultMaterial: "镀锌板" },</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>{ id: 101, category: "房式产品", name: "智能垃圾分类房（四分类标准型）", spec: "4500*2200*2850", defaultMaterial: "镀锌板" },</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>{ id: 102, category: "房式产品", name: "定时定点投放驿站", spec: "5000*2500*3000", defaultMaterial: "镀锌板" },</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>{ id: 103, category: "房式产品", name: "多功能环保小屋", spec: "定制尺寸", defaultMaterial: "304" },</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>{ id: 104, category: "房式产品", name: "垃圾分类景观亭", spec: "6000*3000*3000", defaultMaterial: "镀锌板" }</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>];</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>const MATERIALS = ["201不锈钢", "304不锈钢", "316不锈钢", "镀锌板"];</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>const OPENING_METHODS = ["刷卡", "扫码", "感应", "不刷卡", "脚踏开启"];</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>const PRODUCT_CATEGORIES = ["箱式产品", "房式产品"];</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>const FEATURES = [</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>{ key: 'hasPressing', label: '自动压装', Icon: Settings },</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>{ key: 'hasScreen', label: '多媒体屏', Icon: Sun },</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>{ key: 'hasWeighing', label: '智能称重', Icon: Scale },</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>{ key: 'hasCamera', label: '拍照识别', Icon: Camera },</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>{ key: 'hasPedal', label: '脚踏装置', Icon: Zap },</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>{ key: 'hasSlope', label: '无障碍斜坡', Icon: Settings },</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>{ key: 'hasFireSafety', label: '消防灭火', Icon: Zap },</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>{ key: 'hasMosquito', label: '灭蚊杀菌', Icon: Zap },</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>{ key: 'hasDeodor', label: '智能除臭', Icon: Zap },</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>{ key: 'hasCleaning', label: '外部清洁', Icon: Zap },</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>{ key: 'hasShelter', label: '遮雨/遮阳', Icon: Sun },</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>{ key: 'hasVoice', label: '语音宣传', Icon: Volume2 },</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>{ key: 'hasLight', label: '夜间照明', Icon: Sun },</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>{ key: 'hasStorage', label: '工具储存', Icon: Settings },</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>{ key: 'hasInnerClean', label: '内部清洁', Icon: Settings },</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>{ key: 'hasCustomLook', label: '外观定制', Icon: Settings },</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>{ key: 'hasOverflow', label: '满溢报警', Icon: Zap },</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>];</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>// --- Gemini Service ---</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>const callGemini = async (prompt, apiKey) =&gt; {</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">            </span>const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${apiKey}`;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">            </span>try {</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>const response = await fetch(url, {</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                    </span>method: 'POST',</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                    </span>headers: { 'Content-Type': 'application/json' },</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                    </span>body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] })</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>});</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>const data = await response.json();</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>if(data.error) throw new Error(data.error.message);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>return data.candidates?.[0]?.content?.parts?.[0]?.text;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">            </span>} catch (error) {</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>console.error("Gemini API Error:", error);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>throw error;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">            </span>}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>};</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>// --- Components ---</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>function App() {</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>// 初始化产品数据 (从 LocalStorage 读取，如果没有则用默认)</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>const [products, setProducts] = useState(() =&gt; {</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>const saved = localStorage.getItem('app_products');</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>return saved ? JSON.parse(saved) : DEFAULT_PRODUCTS;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>});</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>// 保存产品数据到 LocalStorage</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>useEffect(() =&gt; {</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>localStorage.setItem('app_products', JSON.stringify(products));</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>}, [products]);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>const [activeCategory, setActiveCategory] = useState("箱式产品");</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>// 确保选中的产品存在 (防止删除后报错)</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>const [selectedProduct, setSelectedProduct] = useState(products[0]);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b><span class="Apple-converted-space">          </span></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>useEffect(() =&gt; {</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>if (!products.find(p =&gt; p.id === selectedProduct.id)) {</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                  </span>setSelectedProduct(products[0]);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>}, [products]);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>const [config, setConfig] = useState({ material: "304不锈钢", openingMethod: "感应", features: {}, quantity: 1, remarks: "" });</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>const [cart, setCart] = useState([]);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b><span class="Apple-converted-space">          </span></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>// UI States</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>const [isSidebarOpen, setIsSidebarOpen] = useState(false);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>const [showCartMobile, setShowCartMobile] = useState(false);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>const [showProductManager, setShowProductManager] = useState(false);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b><span class="Apple-converted-space">          </span></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>// AI States</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>const [apiKey, setApiKey] = useState(localStorage.getItem('gemini_api_key') || '');</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>const [showApiKeyModal, setShowApiKeyModal] = useState(false);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>const [showMagicModal, setShowMagicModal] = useState(false);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>const [showProposalModal, setShowProposalModal] = useState(false);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>const [magicPrompt, setMagicPrompt] = useState("");</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>const [aiLoading, setAiLoading] = useState(false);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>const [proposalText, setProposalText] = useState("");</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>useEffect(() =&gt; {</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">            </span>if(selectedProduct) resetConfig(selectedProduct);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>}, [selectedProduct]);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>const resetConfig = (prod) =&gt; {</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">            </span>setConfig({</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>material: prod.defaultMaterial || "304不锈钢",</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>openingMethod: "感应",</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>features: {},<span class="Apple-converted-space"> </span></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>quantity: 1,</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>remarks: ""</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">            </span>});</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>const saveApiKey = (key) =&gt; { localStorage.setItem('gemini_api_key', key); setApiKey(key); setShowApiKeyModal(false); };</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>const handleFeatureToggle = (key) =&gt; { setConfig(prev =&gt; ({ ...prev, features: { ...prev.features, [key]: !prev.features?.[key] } })); };</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b><span class="Apple-converted-space">          </span></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>const addToCart = () =&gt; {</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">            </span>const newItem = { id: Date.now(), product: selectedProduct, config: { ...config } };</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">            </span>setCart([...cart, newItem]);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">            </span>if (window.innerWidth &lt; 768) {</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>const btn = document.getElementById('add-btn-text');</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>if(btn) { const original = btn.innerText; btn.innerText = "已加入 </b></span><span class="s2"><b>✓</b></span><span class="s1"><b>"; setTimeout(() =&gt; btn.innerText = original, 1500); }</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">            </span>} else { setShowCartMobile(true); }</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>};</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>// Product Management Functions</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>const handleAddProduct = (newProd) =&gt; {</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>setProducts([...products, { ...newProd, id: Date.now() }]);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>};</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>const handleDeleteProduct = (id) =&gt; {</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>if (products.length &lt;= 1) { alert("至少保留一个产品"); return; }</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>if (confirm("确定删除此产品吗？")) {</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                  </span>setProducts(products.filter(p =&gt; p.id !== id));</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>};</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>// AI Logic</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>const handleMagicConfig = async () =&gt; {</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>if (!apiKey) { setShowApiKeyModal(true); return; }</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>if (!magicPrompt.trim()) return;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>setAiLoading(true);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>const prompt = `用户需求："${magicPrompt}"。请从列表选择最匹配产品ID，推荐配置。产品列表:${JSON.stringify(products.map(p=&gt;({id:p.id,name:p.name,cat:p.category})))}。JSON格式:{ "productId": number, "material": string, "openingMethod": string, "features": [string keys], "remarks": string }`;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>try {</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                  </span>const text = await callGemini(prompt, apiKey);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                  </span>const jsonStr = text.match(/\{[\s\S]*\}/)?.[0] || text;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                  </span>const result = JSON.parse(jsonStr);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                  </span>const targetProd = products.find(p =&gt; p.id === result.productId);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                  </span>if (targetProd) {</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                      </span>setSelectedProduct(targetProd);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                      </span>const newFeatures = {};</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                      </span>if(result.features) result.features.forEach(k =&gt; newFeatures[k] = true);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                      </span>setConfig({ material: result.material||targetProd.defaultMaterial, openingMethod: result.openingMethod||"感应", features: newFeatures, quantity: 1, remarks: result.remarks||"AI推荐" });</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                      </span>setShowMagicModal(false);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                  </span>} else { alert("AI 未能匹配产品"); }</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>} catch (e) { alert("AI 错误: " + e.message); }</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>setAiLoading(false);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>};</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>const handleGenerateProposal = async () =&gt; {</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>if (!apiKey) { setShowApiKeyModal(true); return; }</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>setAiLoading(true);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>setShowProposalModal(true);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>const summary = cart.map(i =&gt; `${i.product.name} x${i.config.quantity} (${i.config.material})`).join('\n');</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>const prompt = `我是环保工程师。根据清单生成Markdown项目方案，包含配置亮点和价值：\n${summary}`;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>try { const text = await callGemini(prompt, apiKey); setProposalText(text); } catch (e) { setProposalText("生成失败"); }</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>setAiLoading(false);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>};</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>const handleExport = () =&gt; {</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">            </span>const content = ["产品\t规格\t配置\t功能\t数量\t备注", ...cart.map(i =&gt; `${i.product.name}\t${i.product.spec}\t${i.config.material}/${i.config.openingMethod}\t${Object.keys(i.config.features).filter(k=&gt;i.config.features[k]).join(',')}\t${i.config.quantity}\t${i.config.remarks}`)].join("\n");</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">            </span>const blob = new Blob(["\ufeff" + content], { type: 'text/tab-separated-values' });</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">            </span>const link = document.createElement("a"); link.href = URL.createObjectURL(blob); link.download = `选配单.xls`; link.click();</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>};</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>return (</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">            </span>&lt;div className="flex h-full bg-slate-100 font-sans text-slate-800 overflow-hidden"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>{/* Header Mobile */}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>&lt;div className="md:hidden fixed top-0 left-0 right-0 h-12 bg-white z-20 flex items-center justify-between px-4 shadow-sm"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>&lt;div className="flex items-center gap-2" onClick={() =&gt; setIsSidebarOpen(true)}&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                  </span>&lt;Menu size={20} className="text-slate-600"/&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                  </span>&lt;span className="font-bold text-base text-emerald-700 truncate max-w-[150px]"&gt;{selectedProduct?.name}&lt;/span&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>&lt;div className="flex items-center gap-2"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                   </span>&lt;button onClick={() =&gt; setShowMagicModal(true)} className="text-purple-600 animate-pulse bg-purple-50 p-1.5 rounded-full"&gt;&lt;Sparkles size={18} /&gt;&lt;/button&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                   </span>&lt;div className="relative p-2" onClick={() =&gt; setShowCartMobile(true)}&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                      </span>&lt;ShoppingCart size={22} className="text-slate-700"/&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                      </span>{cart.length &gt; 0 &amp;&amp; &lt;span className="absolute top-1 right-0 bg-red-500 text-white text-[10px] w-4 h-4 flex items-center justify-center rounded-full border border-white"&gt;{cart.length}&lt;/span&gt;}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                   </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>{/* Sidebar */}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>&lt;aside className={`fixed inset-y-0 left-0 z-30 w-72 bg-white shadow-2xl transform transition-transform duration-300 ease-in-out md:relative md:translate-x-0 md:w-64 md:shadow-none md:border-r border-slate-200 ${isSidebarOpen ? 'translate-x-0' : '-translate-x-full'}`}&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>&lt;div className="h-full flex flex-col"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                  </span>&lt;div className="h-12 md:h-16 flex items-center px-6 border-b border-slate-100 bg-emerald-50 md:bg-white justify-between"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                    </span>&lt;h1 className="text-lg font-bold text-emerald-800 flex items-center gap-2"&gt;&lt;Trash2 className="text-emerald-600" size={20}/&gt;&lt;span className="md:inline"&gt;产品列表&lt;/span&gt;&lt;/h1&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                    </span>&lt;button onClick={() =&gt; setIsSidebarOpen(false)} className="md:hidden p-1 bg-white rounded-full text-slate-400"&gt;&lt;X size={18}/&gt;&lt;/button&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                  </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                  </span>&lt;div className="flex-1 overflow-y-auto safe-bottom"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                    </span>{PRODUCT_CATEGORIES.map(category =&gt; (</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                      </span>&lt;div key={category} className="mb-1"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                        </span>&lt;div className="px-4 py-3 text-xs font-bold text-slate-400 bg-slate-50 flex justify-between items-center cursor-pointer" onClick={() =&gt; setActiveCategory(category === activeCategory ? null : category)}&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                          </span>{category}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                          </span>&lt;ChevronRight size={14} className={`transition-transform ${category === activeCategory ? 'rotate-90' : ''}`}/&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                        </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                        </span>{activeCategory === category &amp;&amp; (</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                          </span>&lt;div className="bg-white"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                            </span>{products.filter(p =&gt; p.category === category).map(product =&gt; (</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                              </span>&lt;button key={product.id} onClick={() =&gt; { setSelectedProduct(product); setIsSidebarOpen(false); }} className={`w-full text-left px-6 py-3 text-sm border-b border-slate-50 active:bg-slate-50 ${selectedProduct?.id === product.id ? 'text-emerald-700 font-medium bg-emerald-50/50 border-emerald-100' : 'text-slate-600'}`}&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                                </span>{product.name}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                              </span>&lt;/button&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                            </span>))}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                          </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                        </span>)}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                      </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                    </span>))}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                  </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                  </span>{/* Bottom Actions */}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                  </span>&lt;div className="p-4 border-t border-slate-100 safe-bottom grid grid-cols-2 gap-2"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                    </span>&lt;button onClick={() =&gt; setShowProductManager(true)} className="text-xs text-slate-500 flex items-center justify-center gap-1 hover:text-emerald-600 py-2 border rounded bg-slate-50"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                        </span>&lt;Edit size={14}/&gt; 管理产品</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                    </span>&lt;/button&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                    </span>&lt;button onClick={() =&gt; setShowApiKeyModal(true)} className="text-xs text-slate-500 flex items-center justify-center gap-1 hover:text-emerald-600 py-2 border rounded bg-slate-50"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                        </span>&lt;Settings size={14}/&gt; AI 设置</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                    </span>&lt;/button&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                  </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>&lt;/aside&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>{isSidebarOpen &amp;&amp; &lt;div className="fixed inset-0 bg-black/40 z-20 md:hidden backdrop-blur-sm" onClick={() =&gt; setIsSidebarOpen(false)} /&gt;}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>{/* Main Content */}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>&lt;main className="flex-1 flex flex-col h-full overflow-hidden pt-12 md:pt-0 relative bg-slate-100"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>&lt;header className="hidden md:block px-8 py-6 bg-white border-b border-slate-200 flex justify-between items-start"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                  </span>&lt;div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                    </span>&lt;span className="text-xs font-medium text-emerald-600 bg-emerald-50 px-2 py-1 rounded mb-2 inline-block"&gt;{selectedProduct?.category}&lt;/span&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                    </span>&lt;h2 className="text-2xl font-bold text-slate-900"&gt;{selectedProduct?.name}&lt;/h2&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                    </span>&lt;div className="flex items-center gap-4 mt-2 text-slate-500 text-sm"&gt;&lt;span className="flex items-center gap-1"&gt;&lt;Info size={14}/&gt; 规格: {selectedProduct?.spec}&lt;/span&gt;&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                  </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                  </span>&lt;button onClick={() =&gt; setShowMagicModal(true)} className="flex items-center gap-2 px-4 py-2 bg-purple-50 text-purple-700 rounded-full text-sm font-bold border border-purple-200 hover:bg-purple-100 transition-colors ai-btn-glow"&gt;&lt;Sparkles size={16}/&gt; AI 帮我选配&lt;/button&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>&lt;/header&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>&lt;div className="flex-1 overflow-y-auto pb-32 md:pb-8 no-scrollbar"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                  </span>&lt;div className="p-4 md:p-8 space-y-4 md:space-y-6 max-w-4xl mx-auto"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                    </span>&lt;div className="md:hidden bg-white p-3 rounded-lg text-xs text-slate-500 flex gap-2 items-center justify-between shadow-sm"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                         </span>&lt;span className="flex gap-2 items-center truncate"&gt;&lt;Info size={14} className="text-emerald-500"/&gt; 规格: {selectedProduct?.spec}&lt;/span&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                    </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                    </span>&lt;div className="bg-white p-4 md:p-6 rounded-xl shadow-sm"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                      </span>&lt;h3 className="text-sm md:text-lg font-bold text-slate-800 mb-3 flex items-center gap-2"&gt;&lt;Settings className="text-emerald-500" size={18}/&gt; 基础配置&lt;/h3&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                      </span>&lt;div className="grid grid-cols-1 md:grid-cols-2 gap-4"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                        </span>&lt;div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                          </span>&lt;label className="text-xs font-medium text-slate-500 mb-1 block"&gt;箱体材质&lt;/label&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                          </span>&lt;select value={config.material} onChange={(e) =&gt; setConfig({...config, material: e.target.value})} className="w-full p-2.5 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-1 focus:ring-emerald-500 outline-none appearance-none"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                            </span>{MATERIALS.map(m =&gt; &lt;option key={m} value={m}&gt;{m}&lt;/option&gt;)}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                          </span>&lt;/select&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                        </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                        </span>&lt;div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                          </span>&lt;label className="text-xs font-medium text-slate-500 mb-1 block"&gt;开合方式&lt;/label&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                          </span>&lt;select value={config.openingMethod} onChange={(e) =&gt; setConfig({...config, openingMethod: e.target.value})} className="w-full p-2.5 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-1 focus:ring-emerald-500 outline-none appearance-none"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                            </span>{OPENING_METHODS.map(m =&gt; &lt;option key={m} value={m}&gt;{m}&lt;/option&gt;)}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                          </span>&lt;/select&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                        </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                      </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                    </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                    </span>&lt;div className="bg-white p-4 md:p-6 rounded-xl shadow-sm"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                      </span>&lt;h3 className="text-sm md:text-lg font-bold text-slate-800 mb-3 flex items-center gap-2"&gt;&lt;Plus className="text-emerald-500" size={18}/&gt; 功能选配&lt;/h3&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                      </span>&lt;div className="grid grid-cols-3 md:grid-cols-4 gap-2 md:gap-4"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                        </span>{FEATURES.map((feature) =&gt; {</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                          </span>const isSelected = config.features?.[feature.key] || false;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                          </span>const FeatureIcon = feature.Icon;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                          </span>return (</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                            </span>&lt;div key={feature.key} onClick={() =&gt; handleFeatureToggle(feature.key)} className={`cursor-pointer p-2 md:p-4 rounded-lg border text-xs md:text-sm font-medium transition-all select-none flex flex-col items-center justify-center gap-2 aspect-square md:aspect-auto ${isSelected ? 'bg-emerald-50 border-emerald-500 text-emerald-900 shadow-sm' : 'bg-slate-50 border-transparent text-slate-500'}`}&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                              </span>&lt;FeatureIcon size={20} className={isSelected ? 'text-emerald-600' : 'text-slate-400'} /&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                              </span>&lt;span className="text-center scale-90 md:scale-100"&gt;{feature.label}&lt;/span&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                              </span>{isSelected &amp;&amp; &lt;div className="hidden md:block absolute top-2 right-2 text-emerald-600"&gt;&lt;Check size={12}/&gt;&lt;/div&gt;}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                            </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                          </span>);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                        </span>})}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                      </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                    </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                    </span>&lt;div className="bg-white p-4 md:p-6 rounded-xl shadow-sm mb-20 md:mb-0"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                      </span>&lt;label className="text-xs font-medium text-slate-500 mb-2 block"&gt;特殊备注&lt;/label&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                      </span>&lt;textarea value={config.remarks} onChange={(e) =&gt; setConfig({...config, remarks: e.target.value})} className="w-full p-3 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-1 focus:ring-emerald-500 outline-none h-20 resize-none" placeholder="选填：电压、丝印等要求..."/&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                    </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                  </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>&lt;div className="md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 p-3 safe-bottom z-10 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                  </span>&lt;div className="flex gap-3 h-11"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                    </span>&lt;div className="flex items-center bg-slate-100 rounded-lg px-2 w-32 justify-between"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                       </span>&lt;button onClick={() =&gt; setConfig(p =&gt; ({...p, quantity: Math.max(1, p.quantity - 1)}))} className="p-2 text-slate-500 font-bold"&gt;-&lt;/button&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                       </span>&lt;span className="text-sm font-bold"&gt;{config.quantity}&lt;/span&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                       </span>&lt;button onClick={() =&gt; setConfig(p =&gt; ({...p, quantity: p.quantity + 1}))} className="p-2 text-slate-500 font-bold"&gt;+&lt;/button&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                    </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                    </span>&lt;button onClick={addToCart} className="flex-1 bg-emerald-600 active:bg-emerald-700 text-white rounded-lg font-bold text-sm flex items-center justify-center shadow-lg shadow-emerald-200"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                      </span>&lt;span id="add-btn-text"&gt;加入清单&lt;/span&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                    </span>&lt;/button&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                  </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>&lt;/main&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>{/* Cart Drawer &amp; Modals */}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>&lt;aside className="hidden xl:flex xl:flex-col w-96 bg-white border-l border-slate-200 shadow-xl z-20"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>&lt;CartContent cart={cart} removeFromCart={(id)=&gt;setCart(cart.filter(i=&gt;i.id!==id))} handleExport={handleExport} getTotalItems={()=&gt;cart.reduce((a,i)=&gt;a+i.config.quantity,0)} onGenerateProposal={handleGenerateProposal} /&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>&lt;/aside&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>{showCartMobile &amp;&amp; (</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>&lt;div className="fixed inset-0 z-50 flex flex-col justify-end modal-enter"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                   </span>&lt;div className="absolute inset-0 bg-black/60 backdrop-blur-sm" onClick={() =&gt; setShowCartMobile(false)} /&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                   </span>&lt;div className="relative bg-slate-100 w-full rounded-t-2xl h-[80vh] flex flex-col shadow-2xl overflow-hidden"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                      </span>&lt;div className="p-4 bg-white border-b flex justify-between items-center rounded-t-2xl"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                         </span>&lt;h3 className="font-bold text-lg"&gt;选配清单&lt;/h3&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                         </span>&lt;button onClick={() =&gt; setShowCartMobile(false)}&gt;&lt;X size={20}/&gt;&lt;/button&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                      </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                      </span>&lt;CartContent cart={cart} removeFromCart={(id)=&gt;setCart(cart.filter(i=&gt;i.id!==id))} handleExport={handleExport} getTotalItems={()=&gt;cart.reduce((a,i)=&gt;a+i.config.quantity,0)} onGenerateProposal={handleGenerateProposal} /&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                   </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>)}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>{/* Product Manager Modal */}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>{showProductManager &amp;&amp; (</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>&lt;div className="fixed inset-0 z-[60] flex flex-col bg-slate-50 modal-enter"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                    </span>&lt;div className="bg-white p-4 border-b flex justify-between items-center safe-top shadow-sm"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                        </span>&lt;h2 className="text-lg font-bold text-slate-800"&gt;产品库管理&lt;/h2&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                        </span>&lt;button onClick={() =&gt; setShowProductManager(false)} className="p-2 bg-slate-100 rounded-full"&gt;&lt;X size={20}/&gt;&lt;/button&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                    </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                    </span>&lt;div className="flex-1 overflow-y-auto p-4 space-y-4"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                        </span>&lt;div className="bg-white p-4 rounded-xl shadow-sm border border-emerald-100"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                            </span>&lt;h3 className="font-bold text-sm mb-3 text-emerald-800"&gt;添加新产品&lt;/h3&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                            </span>&lt;form onSubmit={(e) =&gt; {</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                                </span>e.preventDefault();</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                                </span>const formData = new FormData(e.target);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                                </span>handleAddProduct({</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                                    </span>category: formData.get('cat'),</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                                    </span>name: formData.get('name'),</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                                    </span>spec: formData.get('spec'),</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                                    </span>defaultMaterial: "304"</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                                </span>});</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                                </span>e.target.reset();</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                                </span>alert("添加成功");</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                            </span>}} className="space-y-3"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                                </span>&lt;select name="cat" className="w-full p-2 border rounded text-sm bg-slate-50"&gt;{PRODUCT_CATEGORIES.map(c=&gt;&lt;option key={c} value={c}&gt;{c}&lt;/option&gt;)}&lt;/select&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                                </span>&lt;input name="name" placeholder="产品名称" required className="w-full p-2 border rounded text-sm"/&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                                </span>&lt;input name="spec" placeholder="规格尺寸" required className="w-full p-2 border rounded text-sm"/&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                                </span>&lt;button type="submit" className="w-full bg-emerald-600 text-white py-2 rounded text-sm font-bold"&gt;确认添加&lt;/button&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                            </span>&lt;/form&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                        </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                        </span>&lt;div className="space-y-2"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                            </span>&lt;h3 className="font-bold text-sm text-slate-500 pl-1"&gt;现有产品列表 ({products.length})&lt;/h3&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                            </span>{products.map(p =&gt; (</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                                </span>&lt;div key={p.id} className="bg-white p-3 rounded-lg border border-slate-200 flex justify-between items-center"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                                    </span>&lt;div className="overflow-hidden"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                                        </span>&lt;div className="font-medium text-sm truncate"&gt;{p.name}&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                                        </span>&lt;div className="text-xs text-slate-400"&gt;{p.category} | {p.spec}&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                                    </span>&lt;button onClick={() =&gt; handleDeleteProduct(p.id)} className="text-red-400 p-2"&gt;&lt;Trash2 size={16}/&gt;&lt;/button&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                                </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                            </span>))}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                        </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                    </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>)}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>{/* Other Modals (API Key, Magic, Proposal) */}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>{showApiKeyModal &amp;&amp; &lt;Modal title="设置 API Key" onClose={()=&gt;setShowApiKeyModal(false)}&gt;&lt;input type="password" className="w-full border p-2 rounded mb-2" onChange={e=&gt;setApiKey(e.target.value)} value={apiKey}/&gt;&lt;button onClick={()=&gt;saveApiKey(apiKey)} className="w-full bg-emerald-600 text-white py-2 rounded"&gt;保存&lt;/button&gt;&lt;/Modal&gt;}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b><span class="Apple-converted-space">              </span></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>{showMagicModal &amp;&amp; &lt;Modal title="AI 智能选配" onClose={()=&gt;setShowMagicModal(false)}&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                  </span>&lt;textarea className="w-full border p-2 rounded mb-2 h-24 text-sm" placeholder="描述您的需求..." value={magicPrompt} onChange={e=&gt;setMagicPrompt(e.target.value)}&gt;&lt;/textarea&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                  </span>&lt;button onClick={handleMagicConfig} disabled={aiLoading} className="w-full bg-purple-600 text-white py-2 rounded flex justify-center gap-2"&gt;{aiLoading?"...":&lt;&gt;&lt;Sparkles size={16}/&gt; 开始&lt;/&gt;}&lt;/button&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>&lt;/Modal&gt;}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>{showProposalModal &amp;&amp; &lt;Modal title="AI 方案" onClose={()=&gt;setShowProposalModal(false)} fullHeight&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                  </span>&lt;div className="flex-1 overflow-y-auto text-sm p-2" dangerouslySetInnerHTML={{__html: aiLoading ? "生成中..." : marked.parse(proposalText)}} /&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                  </span>&lt;button onClick={()=&gt;{navigator.clipboard.writeText(proposalText);alert("复制成功")}} className="w-full bg-slate-800 text-white py-2 rounded mt-2"&gt;复制内容&lt;/button&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>&lt;/Modal&gt;}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">            </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>// Helper Components</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>const Modal = ({ title, onClose, children, fullHeight }) =&gt; (</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">            </span>&lt;div className="fixed inset-0 z-[70] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 modal-enter"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>&lt;div className={`bg-white rounded-xl w-full max-w-lg shadow-2xl flex flex-col ${fullHeight ? 'h-[80vh]' : ''}`}&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                    </span>&lt;div className="p-4 border-b flex justify-between font-bold"&gt;&lt;span&gt;{title}&lt;/span&gt;&lt;button onClick={onClose}&gt;&lt;X/&gt;&lt;/button&gt;&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                    </span>&lt;div className="p-4 flex-1 overflow-auto"&gt;{children}&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">            </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>function CartContent({ cart, removeFromCart, handleExport, getTotalItems, onGenerateProposal }) {</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>return (</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">            </span>&lt;div className="flex-1 flex flex-col overflow-hidden"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>&lt;div className="flex-1 overflow-y-auto p-4 space-y-3"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>{cart.length === 0 ? &lt;div className="h-48 flex items-center justify-center text-slate-400 text-sm"&gt;清单为空&lt;/div&gt; :<span class="Apple-converted-space"> </span></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                  </span>cart.map((item) =&gt; (</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                    </span>&lt;div key={item.id} className="bg-white p-3 rounded-xl shadow-sm border border-slate-100 relative"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                      </span>&lt;button onClick={() =&gt; removeFromCart(item.id)} className="absolute top-2 right-2 text-slate-300 p-2"&gt;&lt;Trash2 size={16} /&gt;&lt;/button&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                      </span>&lt;h4 className="font-bold text-slate-800 pr-8 text-sm truncate"&gt;{item.product.name}&lt;/h4&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                      </span>&lt;div className="text-xs text-slate-500 mt-1"&gt;{item.config.material} · {item.config.openingMethod}&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                      </span>&lt;div className="text-xs text-slate-400 mt-1"&gt;{Object.keys(item.config.features).filter(k=&gt;item.config.features[k]).map(k=&gt;FEATURES.find(f=&gt;f.key==k)?.label).join(' ')}&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                      </span>&lt;div className="flex justify-between mt-2 pt-2 border-t text-sm"&gt;&lt;span className="text-emerald-600 font-bold"&gt;x {item.config.quantity}&lt;/span&gt;&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                    </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                  </span>))</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>&lt;div className="p-4 border-t space-y-2 bg-white safe-bottom"&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>&lt;button onClick={onGenerateProposal} disabled={cart.length === 0} className="w-full py-3 bg-purple-50 text-purple-700 rounded-xl font-bold flex justify-center gap-2 text-sm border border-purple-200"&gt;AI 方案&lt;/button&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">                </span>&lt;button onClick={handleExport} disabled={cart.length === 0} className="w-full py-3 bg-slate-900 text-white rounded-xl font-bold flex justify-center gap-2 text-sm"&gt;导出 Excel&lt;/button&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">              </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">            </span>&lt;/div&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">          </span>);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>}</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000; min-height: 33.0px"><span class="s1"><b></b></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>const root = ReactDOM.createRoot(document.getElementById('root'));</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">        </span>root.render(&lt;App /&gt;);</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">    </span>&lt;/script&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b>&lt;/body&gt;</b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px 'Songti SC'; color: #000000; -webkit-text-stroke: #000000"><span class="s1"><b>&lt;/html&gt;</b></span></h1>
</body>
</html>
