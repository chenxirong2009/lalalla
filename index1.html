<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>产品配置系统</title>
    <style>
        :root {
            --primary-color: #2c7fb8;
            --secondary-color: #4caf50;
            --accent-color: #ff9800;
            --light-gray: #f5f5f5;
            --dark-gray: #333;
            --medium-gray: #777;
            --border-color: #ddd;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Microsoft YaHei', 'Arial', sans-serif;
        }
        
        body {
            background-color: #f9f9f9;
            color: var(--dark-gray);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background-color: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 20px 0;
            margin-bottom: 30px;
            border-radius: 8px;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }
        
        .logo {
            font-size: 24px;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .system-title {
            text-align: center;
            margin: 20px 0;
            color: var(--primary-color);
        }
        
        .config-container {
            display: flex;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .config-panel {
            flex: 1;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 25px;
        }
        
        .result-panel {
            flex: 1;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 25px;
        }
        
        .panel-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--primary-color);
            color: var(--primary-color);
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 10px;
            font-weight: bold;
            color: var(--dark-gray);
        }
        
        select, input[type="checkbox"] {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(44, 127, 184, 0.2);
        }
        
        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 10px;
        }
        
        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 8px;
            width: calc(50% - 8px);
        }
        
        .checkbox-item input[type="checkbox"] {
            width: auto;
            margin-right: 5px;
        }
        
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s;
            text-align: center;
        }
        
        .btn:hover {
            background-color: #1e6088;
        }
        
        .btn-secondary {
            background-color: var(--secondary-color);
        }
        
        .btn-secondary:hover {
            background-color: #3d8b40;
        }
        
        .btn-group {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        .config-result {
            margin-top: 20px;
        }
        
        .result-item {
            margin-bottom: 15px;
            padding: 15px;
            background-color: var(--light-gray);
            border-radius: 4px;
        }
        
        .result-label {
            font-weight: bold;
            color: var(--primary-color);
            margin-right: 10px;
        }
        
        .product-info {
            margin-top: 20px;
            padding: 20px;
            background-color: #f0f7ff;
            border-left: 4px solid var(--primary-color);
            border-radius: 4px;
        }
        
        .spec-list {
            list-style-position: inside;
            margin-left: 20px;
            margin-top: 10px;
        }
        
        .spec-list li {
            margin-bottom: 5px;
        }
        
        .price-display {
            margin-top: 20px;
            padding: 15px;
            background-color: #fff8e1;
            border-radius: 4px;
            border-left: 4px solid var(--accent-color);
        }
        
        .price-value {
            font-size: 24px;
            font-weight: bold;
            color: #e65100;
        }
        
        .price-breakdown {
            margin-top: 10px;
            font-size: 14px;
            color: var(--medium-gray);
        }
        
        .feature-section {
            margin-top: 30px;
        }
        
        .feature-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 15px;
            color: var(--primary-color);
        }
        
        .option-summary {
            margin-top: 20px;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 4px;
        }
        
        .option-title {
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .option-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .option-tag {
            padding: 5px 12px;
            background-color: #e3f2fd;
            color: var(--primary-color);
            border-radius: 20px;
            font-size: 14px;
        }
        
        @media (max-width: 768px) {
            .config-container {
                flex-direction: column;
            }
            
            .checkbox-item {
                width: 100%;
            }
            
            .btn-group {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <div class="logo">垃圾分类设备</div>
                <div>产品配置系统 v1.0</div>
            </div>
        </header>
        
        <h1 class="system-title">垃圾分类设备产品配置系统</h1>
        
        <div class="config-container">
            <!-- 配置面板 -->
            <div class="config-panel">
                <h2 class="panel-title">产品配置选项</h2>
                
                <form id="configForm">
                    <!-- 产品类别选择 -->
                    <div class="form-group">
                        <label class="form-label" for="productCategory">1. 选择产品类别</label>
                        <select id="productCategory" required>
                            <option value="">请选择产品类别</option>
                            <option value="箱式产品">箱式产品</option>
                            <option value="房式产品">房式产品</option>
                        </select>
                    </div>
                    
                    <!-- 产品型号选择 -->
                    <div class="form-group">
                        <label class="form-label" for="productModel">2. 选择产品型号</label>
                        <select id="productModel" disabled required>
                            <option value="">请先选择产品类别</option>
                        </select>
                    </div>
                    
                    <!-- 材质选择 -->
                    <div class="form-group" id="materialGroup" style="display: none;">
                        <label class="form-label" for="productMaterial">3. 选择材质</label>
                        <select id="productMaterial">
                            <option value="">请选择材质</option>
                        </select>
                    </div>
                    
                    <!-- 功能选项 -->
                    <div class="form-group">
                        <label class="form-label">4. 选择功能配置</label>
                        <div class="checkbox-group" id="featureOptions">
                            <div class="checkbox-item">
                                <input type="checkbox" id="optDisplay" name="features" value="显示屏" data-price="2800">
                                <label for="optDisplay">显示屏 (+¥2,800)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="optWeighing" name="features" value="称重功能" data-price="3500">
                                <label for="optWeighing">称重功能 (+¥3,500)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="optPhotography" name="features" value="拍照识别" data-price="4800">
                                <label for="optPhotography">拍照识别 (+¥4,800)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="optPedal" name="features" value="脚踏装置" data-price="850">
                                <label for="optPedal">脚踏装置 (+¥850)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="optVoice" name="features" value="红外语音" data-price="1600">
                                <label for="optVoice">红外语音 (+¥1,600)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="optLight" name="features" value="夜间照明" data-price="750">
                                <label for="optLight">夜间照明 (+¥750)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="optAlarm" name="features" value="满溢报警" data-price="2200">
                                <label for="optAlarm">满溢报警 (+¥2,200)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="optCustom" name="features" value="外观定制" data-price="6800">
                                <label for="optCustom">外观定制 (+¥6,800)</label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 门柜开合方式 -->
                    <div class="form-group">
                        <label class="form-label" for="doorMode">5. 选择门柜开合方式</label>
                        <select id="doorMode">
                            <option value="不刷卡" data-price="0">不刷卡</option>
                            <option value="刷卡" data-price="1200">刷卡 (+¥1,200)</option>
                            <option value="扫码" data-price="1800">扫码 (+¥1,800)</option>
                            <option value="感应" data-price="2500">感应 (+¥2,500)</option>
                        </select>
                    </div>
                    
                    <!-- 操作按钮 -->
                    <div class="btn-group">
                        <button type="submit" class="btn">生成配置方案</button>
                        <button type="button" class="btn btn-secondary" id="resetBtn">重置配置</button>
                    </div>
                </form>
            </div>
            
            <!-- 结果面板 -->
            <div class="result-panel">
                <h2 class="panel-title">配置结果</h2>
                
                <div id="resultContent" class="config-result">
                    <div class="result-item">
                        <span class="result-label">产品类别：</span>
                        <span id="resultCategory">未选择</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">产品型号：</span>
                        <span id="resultModel">未选择</span>
                    </div>
                    <div class="result-item" id="resultMaterialContainer" style="display: none;">
                        <span class="result-label">产品材质：</span>
                        <span id="resultMaterial">未选择</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">规格参数：</span>
                        <span id="resultSpec">未选择</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">开合方式：</span>
                        <span id="resultDoorMode">不刷卡</span>
                    </div>
                    
                    <div class="option-summary">
                        <div class="option-title">选择的功能配置：</div>
                        <div id="resultFeatures" class="option-list">
                            <span class="option-tag">暂无选择</span>
                        </div>
                    </div>
                    
                    <div class="product-info">
                        <h3>产品详情</h3>
                        <div id="productDetails">
                            请完成左侧配置并生成配置方案
                        </div>
                    </div>
                    
                    <div class="price-display">
                        <div>参考价格：</div>
                        <div id="resultPrice" class="price-value">¥ 0.00</div>
                        <div id="priceBreakdown" class="price-breakdown">
                            价格明细：基础价 + 材质加价 + 功能加价 + 开合方式加价
                        </div>
                        <div style="font-size: 14px; color: var(--medium-gray); margin-top: 5px;">
                            注：实际价格以最终报价为准
                        </div>
                    </div>
                    
                    <div style="margin-top: 20px; text-align: center;">
                        <button class="btn" id="exportBtn" disabled>导出配置方案</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 产品展示区 -->
        <div class="feature-section">
            <h2 class="panel-title">产品展示</h2>
            <div id="productGallery" class="product-gallery">
                <div style="text-align: center; padding: 50px; background-color: white; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                    选择产品后将显示相关产品信息和图片
                </div>
            </div>
        </div>
    </div>

    <script>
        // 产品数据
        const productData = [
            {"id":1,"serial_number":"1","category":"箱式产品","name":"可回收物回收箱（金色）","materials":["201","304","316","镀锌板"],"specification":"1160*1250*2150","options":{"pressure_install":"","display_screen":"","door_open_mode":"","weighing":"","photography":"","foot_pedal":"","ramp":"","fire_facility":"","mosquito_killer":"","deodorization":"","cleaning_facility":"","sunshade":"","voice_equipment":"","night_light":"","storage_area":"","internal_cleaning":"","appearance_custom":"","overflow_alarm":"","power":"","function":"","price":"","remark":""}},
            {"id":2,"serial_number":"3","category":"箱式产品","name":"可回收物收集箱（蓝色）","materials":["201","304","316","镀锌板"],"specification":"1160*1250*2150","options":{"pressure_install":"","display_screen":"","door_open_mode":"","weighing":"","photography":"","foot_pedal":"","ramp":"","fire_facility":"","mosquito_killer":"","deodorization":"","cleaning_facility":"","sunshade":"","voice_equipment":"","night_light":"","storage_area":"","internal_cleaning":"","appearance_custom":"","overflow_alarm":"","power":"","function":"","price":"","remark":""}},
            {"id":3,"serial_number":"5","category":"箱式产品","name":"低值可回收物收集箱","materials":["201","304","316","镀锌板"],"specification":"1160*1250*2150","options":{"pressure_install":"","display_screen":"","door_open_mode":"","weighing":"","photography":"","foot_pedal":"","ramp":"","fire_facility":"","mosquito_killer":"","deodorization":"","cleaning_facility":"","sunshade":"","voice_equipment":"","night_light":"","storage_area":"","internal_cleaning":"","appearance_custom":"","overflow_alarm":"","power":"","function":"","price":"","remark":""}},
            {"id":4,"serial_number":"7","category":"箱式产品","name":"低值/混合双投口收集箱","materials":["201","304","316","镀锌板"],"specification":"2320*1250*2150","options":{"pressure_install":"","display_screen":"","door_open_mode":"","weighing":"","photography":"","foot_pedal":"","ramp":"","fire_facility":"","mosquito_killer":"","deodorization":"","cleaning_facility":"","sunshade":"","voice_equipment":"","night_light":"","storage_area":"","internal_cleaning":"","appearance_custom":"","overflow_alarm":"","power":"","function":"","price":"","remark":""}},
            {"id":5,"serial_number":"8","category":"箱式产品","name":"厨余垃圾收集箱","materials":["201","304","316","镀锌板"],"specification":"1160*1250*2150","options":{"pressure_install":"","display_screen":"","door_open_mode":"","weighing":"","photography":"","foot_pedal":"","ramp":"","fire_facility":"","mosquito_killer":"","deodorization":"","cleaning_facility":"","sunshade":"","voice_equipment":"","night_light":"","storage_area":"","internal_cleaning":"","appearance_custom":"","overflow_alarm":"","power":"","function":"","price":"","remark":""}},
            {"id":6,"serial_number":"9","category":"箱式产品","name":"厨余垃圾收集箱","materials":["201","304","316","镀锌板"],"specification":"240L桶850*800*2150","options":{"pressure_install":"","display_screen":"","door_open_mode":"","weighing":"","photography":"","foot_pedal":"","ramp":"","fire_facility":"","mosquito_killer":"","deodorization":"","cleaning_facility":"","sunshade":"","voice_equipment":"","night_light":"","storage_area":"","internal_cleaning":"","appearance_custom":"","overflow_alarm":"","power":"","function":"","price":"","remark":""}},
            {"id":7,"serial_number":"13","category":"箱式产品","name":"其他垃圾收集箱","materials":["201","304","316","镀锌板"],"specification":"240L桶850*800*2150","options":{"pressure_install":"","display_screen":"","door_open_mode":"","weighing":"","photography":"","foot_pedal":"","ramp":"","fire_facility":"","mosquito_killer":"","deodorization":"","cleaning_facility":"","sunshade":"","voice_equipment":"","night_light":"","storage_area":"","internal_cleaning":"","appearance_custom":"","overflow_alarm":"","power":"","function":"","price":"","remark":""}},
            {"id":8,"serial_number":"16","category":"箱式产品","name":"其他垃圾收集箱","materials":["201","304","316","镀锌板"],"specification":"240L桶850*1250*2150","options":{"pressure_install":"","display_screen":"","door_open_mode":"","weighing":"","photography":"","foot_pedal":"","ramp":"","fire_facility":"","mosquito_killer":"","deodorization":"","cleaning_facility":"","sunshade":"","voice_equipment":"","night_light":"","storage_area":"","internal_cleaning":"","appearance_custom":"","overflow_alarm":"","power":"","function":"","price":"","remark":""}},
            {"id":9,"serial_number":"17","category":"箱式产品","name":"箱式可回收物收集箱（纸类、塑料类、金属、织物、玻璃）","materials":["201","304","316","镀锌板"],"specification":"纸类1160*1250*2150\n塑料1160*1250*2150\n织物1160*1250*2150\n金属120L桶850*800*2150\n玻璃120L桶850*800*2150","options":{"pressure_install":"","display_screen":"","door_open_mode":"","weighing":"","photography":"","foot_pedal":"","ramp":"","fire_facility":"","mosquito_killer":"","deodorization":"","cleaning_facility":"","sunshade":"","voice_equipment":"","night_light":"","storage_area":"","internal_cleaning":"","appearance_custom":"","overflow_alarm":"","power":"","function":"","price":"","remark":""}},
            {"id":10,"serial_number":"18","category":"箱式产品","name":"箱式可回收物收集箱（纸类、塑料类、金属、织物、玻璃）","materials":["201","304","316","镀锌板"],"specification":"纸类1160*1250*2150\n塑料1160*1250*2150\n织物1160*1250*2150\n金属120L桶850*1250*2150\n玻璃120L桶850*1250*2150","options":{"pressure_install":"","display_screen":"","door_open_mode":"","weighing":"","photography":"","foot_pedal":"","ramp":"","fire_facility":"","mosquito_killer":"","deodorization":"","cleaning_facility":"","sunshade":"","voice_equipment":"","night_light":"","storage_area":"","internal_cleaning":"","appearance_custom":"","overflow_alarm":"","power":"","function":"","price":"","remark":""}},
            {"id":11,"serial_number":"19","category":"箱式产品","name":"有害垃圾回收边柜","materials":["201","304","316","镀锌板"],"specification":"侧箱250*400*1000","options":{"pressure_install":"","display_screen":"","door_open_mode":"","weighing":"","photography":"","foot_pedal":"","ramp":"","fire_facility":"","mosquito_killer":"","deodorization":"","cleaning_facility":"","sunshade":"","voice_equipment":"","night_light":"","storage_area":"","internal_cleaning":"","appearance_custom":"","overflow_alarm":"","power":"","function":"","price":"","remark":""}},
            {"id":12,"serial_number":"20","category":"箱式产品","name":"有害+玻璃回收边柜","materials":["201","304","316","镀锌板"],"specification":"侧箱300*400*1500","options":{"pressure_install":"","display_screen":"","door_open_mode":"","weighing":"","photography":"","foot_pedal":"","ramp":"","fire_facility":"","mosquito_killer":"","deodorization":"","cleaning_facility":"","sunshade":"","voice_equipment":"","night_light":"","storage_area":"","internal_cleaning":"","appearance_custom":"","overflow_alarm":"","power":"","function":"","price":"","remark":""}},
            {"id":13,"serial_number":"21","category":"箱式产品","name":"手提大件暂存台（暂存大件垃圾）","materials":["201","304","316","镀锌板"],"specification":"——","options":{"pressure_install":"","display_screen":"","door_open_mode":"","weighing":"","photography":"","foot_pedal":"","ramp":"","fire_facility":"","mosquito_killer":"","deodorization":"","cleaning_facility":"","sunshade":"","voice_equipment":"","night_light":"","storage_area":"","internal_cleaning":"","appearance_custom":"","overflow_alarm":"","power":"","function":"","price":"","remark":""}},
            {"id":14,"serial_number":"22","category":"箱式产品","name":"手提大件暂存台（暂存大件垃圾）带围栏","materials":["201","304","316","镀锌板"],"specification":"——","options":{"pressure_install":"","display_screen":"","door_open_mode":"","weighing":"","photography":"","foot_pedal":"","ramp":"","fire_facility":"","mosquito_killer":"","deodorization":"","cleaning_facility":"","sunshade":"","voice_equipment":"","night_light":"","storage_area":"","internal_cleaning":"","appearance_custom":"","overflow_alarm":"","power":"","function":"","price":"","remark":""}},
            {"id":15,"serial_number":"23","category":"房式产品","name":"房式基础款","materials":["201","304","316","镀锌板"],"specification":"可回收+其他+厨余，（4800*2600*2400）","options":{"pressure_install":"","display_screen":"","door_open_mode":"","weighing":"","photography":"","foot_pedal":"","ramp":"","fire_facility":"","mosquito_killer":"","deodorization":"","cleaning_facility":"","sunshade":"","voice_equipment":"","night_light":"","storage_area":"","internal_cleaning":"","appearance_custom":"","overflow_alarm":"","power":"","function":"","price":"","remark":""}},
            {"id":16,"serial_number":"24","category":"房式产品","name":"整体式收集房（5投口）","materials":["201","304","316","镀锌板"],"specification":"可回收+厨余+其他+有害+低值（4800*2600*2400）","options":{"pressure_install":"","display_screen":"","door_open_mode":"","weighing":"","photography":"","foot_pedal":"","ramp":"","fire_facility":"","mosquito_killer":"","deodorization":"","cleaning_facility":"","sunshade":"","voice_equipment":"","night_light":"","storage_area":"","internal_cleaning":"","appearance_custom":"","overflow_alarm":"","power":"","function":"","price":"","remark":""}},
            {"id":17,"serial_number":"25","category":"房式产品","name":"整体式收集房（6投口）","materials":["201","304","316","镀锌板"],"specification":"可回收+厨余+其他+有害+低值+玻璃（4800*2600*2400）","options":{"pressure_install":"","display_screen":"","door_open_mode":"","weighing":"","photography":"","foot_pedal":"","ramp":"","fire_facility":"","mosquito_killer":"","deodorization":"","cleaning_facility":"","sunshade":"","voice_equipment":"","night_light":"","storage_area":"","internal_cleaning":"","appearance_custom":"","overflow_alarm":"","power":"","function":"","price":"","remark":""}},
            {"id":18,"serial_number":"26","category":"房式产品","name":"整体式收集房（7投口）","materials":["201","304","316","镀锌板"],"specification":"可回收+厨余+其他+有害+低值+玻璃+织物（4800*2600*2400）","options":{"pressure_install":"","display_screen":"","door_open_mode":"","weighing":"","photography":"","foot_pedal":"","ramp":"","fire_facility":"","mosquito_killer":"","deodorization":"","cleaning_facility":"","sunshade":"","voice_equipment":"","night_light":"","storage_area":"","internal_cleaning":"","appearance_custom":"","overflow_alarm":"","power":"","function":"","price":"","remark":""}},
            {"id":19,"serial_number":"27","category":"房式产品","name":"整体式收集房（8投口）","materials":["201","304","316","镀锌板"],"specification":"可回收+厨余+其他+有害+低值+玻璃+织物+塑料（4800*2600*2400）","options":{"pressure_install":"","display_screen":"","door_open_mode":"","weighing":"","photography":"","foot_pedal":"","ramp":"","fire_facility":"","mosquito_killer":"","deodorization":"","cleaning_facility":"","sunshade":"","voice_equipment":"","night_light":"","storage_area":"","internal_cleaning":"","appearance_custom":"","overflow_alarm":"","power":"","function":"","price":"","remark":""}},
            {"id":20,"serial_number":"28","category":"房式产品","name":"房式智能款","materials":["201","304","316","镀锌板"],"specification":"可回收+其他+厨余+智能控制系统（4800*2600*2400）","options":{"pressure_install":"","display_screen":"","door_open_mode":"","weighing":"","photography":"","foot_pedal":"","ramp":"","fire_facility":"","mosquito_killer":"","deodorization":"","cleaning_facility":"","sunshade":"","voice_equipment":"","night_light":"","storage_area":"","internal_cleaning":"","appearance_custom":"","overflow_alarm":"","power":"","function":"","price":"","remark":""}},
            {"id":21,"serial_number":"29","category":"房式产品","name":"房式智能款（6投口）","materials":["201","304","316","镀锌板"],"specification":"可回收+厨余+其他+有害+低值+玻璃+智能控制系统（4800*2600*2400）","options":{"pressure_install":"","display_screen":"","door_open_mode":"","weighing":"","photography":"","foot_pedal":"","ramp":"","fire_facility":"","mosquito_killer":"","deodorization":"","cleaning_facility":"","sunshade":"","voice_equipment":"","night_light":"","storage_area":"","internal_cleaning":"","appearance_custom":"","overflow_alarm":"","power":"","function":"","price":"","remark":""}},
            {"id":22,"serial_number":"30","category":"房式产品","name":"房式智能款（7投口）","materials":["201","304","316","镀锌板"],"specification":"可回收+厨余+其他+有害+低值+玻璃+织物+智能控制系统（4800*2600*2400）","options":{"pressure_install":"","display_screen":"","door_open_mode":"","weighing":"","photography":"","foot_pedal":"","ramp":"","fire_facility":"","mosquito_killer":"","deodorization":"","cleaning_facility":"","sunshade":"","voice_equipment":"","night_light":"","storage_area":"","internal_cleaning":"","appearance_custom":"","overflow_alarm":"","power":"","function":"","price":"","remark":""}},
            {"id":23,"serial_number":"31","category":"房式产品","name":"房式智能款（8投口）","materials":["201","304","316","镀锌板"],"specification":"可回收+厨余+其他+有害+低值+玻璃+织物+塑料+智能控制系统（4800*2600*2400）","options":{"pressure_install":"","display_screen":"","door_open_mode":"","weighing":"","photography":"","foot_pedal":"","ramp":"","fire_facility":"","mosquito_killer":"","deodorization":"","cleaning_facility":"","sunshade":"","voice_equipment":"","night_light":"","storage_area":"","internal_cleaning":"","appearance_custom":"","overflow_alarm":"","power":"","function":"","price":"","remark":""}},
            {"id":24,"serial_number":"32","category":"房式产品","name":"房式定制款","materials":["201","304","316","镀锌板"],"specification":"定制尺寸和配置","options":{"pressure_install":"","display_screen":"","door_open_mode":"","weighing":"","photography":"","foot_pedal":"","ramp":"","fire_facility":"","mosquito_killer":"","deodorization":"","cleaning_facility":"","sunshade":"","voice_equipment":"","night_light":"","storage_area":"","internal_cleaning":"","appearance_custom":"","overflow_alarm":"","power":"","function":"","price":"","remark":""}},
            {"id":25,"serial_number":"33","category":"房式产品","name":"房式定制款（带智能系统）","materials":["201","304","316","镀锌板"],"specification":"定制尺寸和配置+智能控制系统","options":{"pressure_install":"","display_screen":"","door_open_mode":"","weighing":"","photography":"","foot_pedal":"","ramp":"","fire_facility":"","mosquito_killer":"","deodorization":"","cleaning_facility":"","sunshade":"","voice_equipment":"","night_light":"","storage_area":"","internal_cleaning":"","appearance_custom":"","overflow_alarm":"","power":"","function":"","price":"","remark":""}},
            {"id":26,"serial_number":"34","category":"房式产品","name":"房式定制其他箱体","materials":["201","304","316","镀锌板"],"specification":"——","options":{"pressure_install":"","display_screen":"","door_open_mode":"","weighing":"","photography":"","foot_pedal":"","ramp":"","fire_facility":"","mosquito_killer":"","deodorization":"","cleaning_facility":"","sunshade":"","voice_equipment":"","night_light":"","storage_area":"","internal_cleaning":"","appearance_custom":"","overflow_alarm":"","power":"","function":"","price":"","remark":""}},
            {"id":27,"serial_number":"35","category":"房式产品","name":"房式定制厨余箱体","materials":["201","304","316","镀锌板"],"specification":"——","options":{"pressure_install":"","display_screen":"","door_open_mode":"","weighing":"","photography":"","foot_pedal":"","ramp":"","fire_facility":"","mosquito_killer":"","deodorization":"","cleaning_facility":"","sunshade":"","voice_equipment":"","night_light":"","storage_area":"","internal_cleaning":"","appearance_custom":"","overflow_alarm":"","power":"","function":"","price":"","remark":""}},
            {"id":28,"serial_number":"36","category":"房式产品","name":"房式定制可回收箱体","materials":["201","304","316","镀锌板"],"specification":"——","options":{"pressure_install":"","display_screen":"","door_open_mode":"","weighing":"","photography":"","foot_pedal":"","ramp":"","fire_facility":"","mosquito_killer":"","deodorization":"","cleaning_facility":"","sunshade":"","voice_equipment":"","night_light":"","storage_area":"","internal_cleaning":"","appearance_custom":"","overflow_alarm":"","power":"","function":"","price":"","remark":""}},
            {"id":29,"serial_number":"37","category":"房式产品","name":"房式定制玻金塑纸衣箱体","materials":["201","304","316","镀锌板"],"specification":"——","options":{"pressure_install":"","display_screen":"","door_open_mode":"","weighing":"","photography":"","foot_pedal":"","ramp":"","fire_facility":"","mosquito_killer":"","deodorization":"","cleaning_facility":"","sunshade":"","voice_equipment":"","night_light":"","storage_area":"","internal_cleaning":"","appearance_custom":"","overflow_alarm":"","power":"","function":"","price":"","remark":""}}
        ];
        
        // DOM元素
        const productCategory = document.getElementById('productCategory');
        const productModel = document.getElementById('productModel');
        const productMaterial = document.getElementById('productMaterial');
        const materialGroup = document.getElementById('materialGroup');
        const doorMode = document.getElementById('doorMode');
        const configForm = document.getElementById('configForm');
        const resetBtn = document.getElementById('resetBtn');
        const exportBtn = document.getElementById('exportBtn');
        
        // 结果显示元素
        const resultCategory = document.getElementById('resultCategory');
        const resultModel = document.getElementById('resultModel');
        const resultMaterial = document.getElementById('resultMaterial');
        const resultMaterialContainer = document.getElementById('resultMaterialContainer');
        const resultSpec = document.getElementById('resultSpec');
        const resultDoorMode = document.getElementById('resultDoorMode');
        const resultFeatures = document.getElementById('resultFeatures');
        const productDetails = document.getElementById('productDetails');
        const resultPrice = document.getElementById('resultPrice');
        const priceBreakdown = document.getElementById('priceBreakdown');
        const productGallery = document.getElementById('productGallery');
        
        // 类别选择事件
        productCategory.addEventListener('change', function() {
            const selectedCategory = this.value;
            productModel.innerHTML = '<option value="">请选择产品型号</option>';
            
            if (selectedCategory) {
                // 过滤该类别下的产品
                const categoryProducts = productData.filter(p => p.category === selectedCategory);
                
                // 添加产品选项
                categoryProducts.forEach(product => {
                    const option = document.createElement('option');
                    option.value = product.id;
                    option.textContent = product.name;
                    option.dataset.spec = product.specification;
                    option.dataset.materials = JSON.stringify(product.materials);
                    productModel.appendChild(option);
                });
                
                // 启用产品型号选择
                productModel.disabled = false;
            } else {
                productModel.disabled = true;
                materialGroup.style.display = 'none';
                productMaterial.innerHTML = '<option value="">请选择材质</option>';
            }
        });
        
        // 产品型号选择事件
        productModel.addEventListener('change', function() {
            const selectedOption = this.options[this.selectedIndex];
            if (selectedOption.value) {
                const materials = JSON.parse(selectedOption.dataset.materials || '[]');
                
                // 处理材质选择
                if (materials.length > 0 && materials[0] !== '') {
                    materialGroup.style.display = 'block';
                    productMaterial.innerHTML = '<option value="">请选择材质</option>';
                    
                    materials.forEach(material => {
                        if (material && material !== 'nan') {
                            const option = document.createElement('option');
                            option.value = material;
                            option.textContent = material;
                            productMaterial.appendChild(option);
                        }
                    });
                } else {
                    materialGroup.style.display = 'none';
                }
            } else {
                materialGroup.style.display = 'none';
            }
        });
        
        // 获取基础价格
        function getBasePrice(productName, spec, category) {
            let basePrice = 0;
            
            if (category === '箱式产品') {
                // 箱式产品基础价格
                if (spec.includes('1160*1250*2150') && !spec.includes('2320')) {
                    basePrice = 6800; // 标准箱
                } else if (spec.includes('2320*1250*2150')) {
                    basePrice = 12500; // 双投口箱
                } else if (spec.includes('240L') || spec.includes('850*800') || spec.includes('850*1250')) {
                    basePrice = 4500; // 240L桶型
                } else if (productName.includes('边柜') || productName.includes('暂存台')) {
                    basePrice = 3200; // 边柜/暂存台
                } else {
                    basePrice = 5800; // 默认箱式产品
                }
            } else if (category === '房式产品') {
                // 房式产品基础价格
                if (productName.includes('基础款')) {
                    basePrice = 28000;
                } else if (productName.includes('整体式') && !productName.includes('智能')) {
                    basePrice = 45000;
                } else if (productName.includes('智能款') || productName.includes('定制款')) {
                    basePrice = 68000;
                } else {
                    basePrice = 38000; // 默认房式产品
                }
            }
            
            return basePrice;
        }
        
        // 获取材质系数
        function getMaterialFactor(material) {
            if (!material) return 1.0;
            
            if (material.includes('316')) return 1.8;
            else if (material.includes('304')) return 1.3;
            else if (material.includes('201')) return 1.0;
            else if (material.includes('镀锌板')) return 0.85;
            else return 1.0;
        }
        
        // 表单提交事件
        configForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // 获取表单数据
            const category = productCategory.value;
            const modelIndex = productModel.selectedIndex;
            const modelOption = productModel.options[modelIndex];
            const modelName = modelOption ? modelOption.textContent : '';
            const material = productMaterial.value;
            const spec = modelOption ? modelOption.dataset.spec : '';
            const doorModeValue = doorMode.value;
            const doorModePrice = parseInt(doorMode.options[doorMode.selectedIndex].dataset.price || 0);
            
            // 获取选中的功能
            const selectedFeatures = [];
            let featuresPrice = 0;
            document.querySelectorAll('input[name="features"]:checked').forEach(checkbox => {
                selectedFeatures.push(checkbox.value);
                featuresPrice += parseInt(checkbox.dataset.price || 0);
            });
            
            // 更新结果显示
            resultCategory.textContent = category || '未选择';
            resultModel.textContent = modelName || '未选择';
            
            if (materialGroup.style.display === 'block' && material) {
                resultMaterialContainer.style.display = 'block';
                resultMaterial.textContent = material;
            } else {
                resultMaterialContainer.style.display = 'none';
            }
            
            resultSpec.textContent = spec || '暂无数据';
            resultDoorMode.textContent = doorModeValue;
            
            // 更新功能显示
            resultFeatures.innerHTML = '';
            if (selectedFeatures.length > 0) {
                selectedFeatures.forEach(feature => {
                    const tag = document.createElement('span');
                    tag.className = 'option-tag';
                    tag.textContent = feature;
                    resultFeatures.appendChild(tag);
                });
            } else {
                const tag = document.createElement('span');
                tag.className = 'option-tag';
                tag.textContent = '无';
                resultFeatures.appendChild(tag);
            }
            
            // 更新产品详情
            let detailsHtml = '';
            let finalPrice = 0;
            let basePrice = 0;
            let materialFactor = 1.0;
            let materialPrice = 0;
            
            if (modelOption) {
                // 计算价格
                basePrice = getBasePrice(modelName, spec, category);
                materialFactor = getMaterialFactor(material);
                const materialAdjustedPrice = basePrice * materialFactor;
                materialPrice = materialAdjustedPrice - basePrice;
                finalPrice = materialAdjustedPrice + featuresPrice + doorModePrice;
                
                detailsHtml = `
                    <ul class="spec-list">
                        <li><strong>产品名称：</strong>${modelName}</li>
                        <li><strong>产品类别：</strong>${category}</li>
                        <li><strong>规格参数：</strong>${spec.replace(/\\n/g, '<br>')}</li>
                        ${material ? `<li><strong>产品材质：</strong>${material}</li>` : ''}
                        <li><strong>开合方式：</strong>${doorModeValue}</li>
                        <li><strong>功能配置：</strong>${selectedFeatures.length > 0 ? selectedFeatures.join('、') : '无'}</li>
                    </ul>
                `;
                
                // 更新价格明细
                let breakdownText = `价格明细：基础价 ¥${basePrice.toLocaleString()} `;
                if (materialPrice !== 0) {
                    breakdownText += `+ 材质加价 ¥${materialPrice.toFixed(0).toLocaleString()} `;
                }
                if (featuresPrice > 0) {
                    breakdownText += `+ 功能加价 ¥${featuresPrice.toLocaleString()} `;
                }
                if (doorModePrice > 0) {
                    breakdownText += `+ 开合方式加价 ¥${doorModePrice.toLocaleString()} `;
                }
                breakdownText += `= 总计 ¥${finalPrice.toFixed(0).toLocaleString()}`;
                priceBreakdown.textContent = breakdownText;
                
                // 更新产品图片区域
                productGallery.innerHTML = `
                    <div style="display: flex; flex-wrap: wrap; gap: 20px; justify-content: center;">
                        <div style="width: 280px; height: 200px; background-color: #e3f2fd; border-radius: 8px; display: flex; align-items: center; justify-content: center; overflow: hidden; position: relative;">
                            <img src="https://via.placeholder.com/280x200?text=${encodeURIComponent(modelName)}" alt="${modelName}" style="width: 100%; height: 100%; object-fit: cover;">
                            <div style="position: absolute; bottom: 0; left: 0; right: 0; background-color: rgba(0,0,0,0.5); color: white; padding: 5px; text-align: center; font-size: 14px;">
                                ${modelName}
                            </div>
                        </div>
                        <div style="width: 280px; height: 200px; background-color: #e8f5e9; border-radius: 8px; display: flex; align-items: center; justify-content: center; overflow: hidden; position: relative;">
                            <img src="https://via.placeholder.com/280x200?text=规格:${encodeURIComponent(spec.split('\\n')[0] || '定制规格')}" alt="规格展示" style="width: 100%; height: 100%; object-fit: cover;">
                            <div style="position: absolute; bottom: 0; left: 0; right: 0; background-color: rgba(0,0,0,0.5); color: white; padding: 5px; text-align: center; font-size: 14px;">
                                规格展示
                            </div>
                        </div>
                        <div style="width: 280px; height: 200px; background-color: #fff8e1; border-radius: 8px; display: flex; align-items: center; justify-content: center; overflow: hidden; position: relative;">
                            <img src="https://via.placeholder.com/280x200?text=功能:${encodeURIComponent(selectedFeatures[0] || '基础配置')}" alt="功能展示" style="width: 100%; height: 100%; object-fit: cover;">
                            <div style="position: absolute; bottom: 0; left: 0; right: 0; background-color: rgba(0,0,0,0.5); color: white; padding: 5px; text-align: center; font-size: 14px;">
                                功能展示
                            </div>
                        </div>
                    </div>
                `;
                
                // 格式化价格
                resultPrice.textContent = '¥ ' + finalPrice.toFixed(0).toLocaleString('zh-CN', {minimumFractionDigits: 2});
                
                // 启用导出按钮
                exportBtn.disabled = false;
            }
            
            productDetails.innerHTML = detailsHtml;
        });
        
        // 重置按钮事件
        resetBtn.addEventListener('click', function() {
            configForm.reset();
            productModel.innerHTML = '<option value="">请先选择产品类别</option>';
            productModel.disabled = true;
            materialGroup.style.display = 'none';
            productMaterial.innerHTML = '<option value="">请选择材质</option>';
            
            // 重置结果显示
            resultCategory.textContent = '未选择';
            resultModel.textContent = '未选择';
            resultMaterialContainer.style.display = 'none';
            resultSpec.textContent = '未选择';
            resultDoorMode.textContent = '不刷卡';
            resultFeatures.innerHTML = '<span class="option-tag">暂无选择</span>';
            productDetails.innerHTML = '请完成左侧配置并生成配置方案';
            resultPrice.textContent = '¥ 0.00';
            priceBreakdown.textContent = '价格明细：基础价 + 材质加价 + 功能加价 + 开合方式加价';
            exportBtn.disabled = true;
            
            // 重置产品展示
            productGallery.innerHTML = `
                <div style="text-align: center; padding: 50px; background-color: white; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                    选择产品后将显示相关产品信息和图片
                </div>
            `;
        });
        
        // 导出按钮事件
        exportBtn.addEventListener('click', function() {
            // 收集配置信息
            const configInfo = {
                产品类别: resultCategory.textContent,
                产品型号: resultModel.textContent,
                产品材质: resultMaterialContainer.style.display === 'block' ? resultMaterial.textContent : '无',
                规格参数: resultSpec.textContent,
                开合方式: resultDoorMode.textContent,
                参考价格: resultPrice.textContent,
                价格明细: priceBreakdown.textContent,
                配置时间: new Date().toLocaleString()
            };
            
            // 获取选中的功能
            const features = [];
            document.querySelectorAll('#resultFeatures .option-tag').forEach(tag => {
                if (tag.textContent !== '无' && tag.textContent !== '暂无选择') {
                    features.push(tag.textContent);
                }
            });
            configInfo.功能配置 = features.length > 0 ? features.join('、') : '无';
            
            // 生成文本内容
            let exportText = '垃圾分类设备配置方案\n';
            exportText += '='.repeat(60) + '\n';
            for (const [key, value] of Object.entries(configInfo)) {
                exportText += `${key}：${value}\n`;
            }
            exportText += '='.repeat(60) + '\n';
            exportText += '注：本方案为初步配置，实际产品以合同约定为准。\n';
            exportText += '如需进一步咨询，请联系相关销售人员。';
            
            // 创建下载链接
            const blob = new Blob([exportText], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `垃圾分类设备配置方案_${new Date().getTime()}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            alert('配置方案已导出！');
        });
    </script>
</body>
</html>